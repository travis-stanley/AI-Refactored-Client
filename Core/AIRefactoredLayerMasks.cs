// <auto-generated>
//   This file is part of AI-Refactored, an open-source project focused on realistic AI behavior in Escape from Tarkov.
//   Licensed under the MIT License. See LICENSE in the repository root for more information.
//
//   THIS FILE IS SYSTEMATICALLY MANAGED.
//   Please follow strict StyleCop, ReSharper, and AI-Refactored code standards for all modifications.
//   All layer logic must be null/NaN-safe and multiplayer/headless compatible.
// </auto-generated>

namespace AIRefactored.Core
{
    using UnityEngine;

    /// <summary>
    /// Centralized layer mask definitions aligned with Tarkov's internal physics layers.
    /// Used for vision checks, suppression rays, navigation safety, and collision awareness.
    /// </summary>
    public static class AIRefactoredLayerMasks
    {
        #region Layer Indices

        public static readonly int Default = LayerMask.NameToLayer("Default");
        public static readonly int TransparentFX = LayerMask.NameToLayer("TransparentFX");
        public static readonly int IgnoreRaycast = LayerMask.NameToLayer("Ignore Raycast");
        public static readonly int Water = LayerMask.NameToLayer("Water");
        public static readonly int UI = LayerMask.NameToLayer("UI");

        public static readonly int Terrain = LayerMask.NameToLayer("Terrain");
        public static readonly int Foliage = LayerMask.NameToLayer("Grass");
        public static readonly int HighPolyCollider = LayerMask.NameToLayer("HighPolyCollider");
        public static readonly int LowPolyCollider = LayerMask.NameToLayer("LowPolyCollider");
        public static readonly int DeadBody = LayerMask.NameToLayer("Deadbody");
        public static readonly int HitCollider = LayerMask.NameToLayer("HitCollider");

        public static readonly int DoorHighPolyCollider = LayerMask.NameToLayer("DoorHighPolyCollider");
        public static readonly int DoorLowPolyCollider = LayerMask.NameToLayer("DoorLowPolyCollider");
        public static readonly int Door = LayerMask.NameToLayer("Door");

        public static readonly int InvisibleCollider = LayerMask.NameToLayer("InvisibleCollider");
        public static readonly int ViewCollider = LayerMask.NameToLayer("ViewCollider");
        public static readonly int Trigger = LayerMask.NameToLayer("Triggers");
        public static readonly int Interactive = LayerMask.NameToLayer("Interactive");
        public static readonly int Loot = LayerMask.NameToLayer("Loot");
        public static readonly int Player = LayerMask.NameToLayer("Player");
        public static readonly int Shells = LayerMask.NameToLayer("Shells");
        public static readonly int WeaponPreview = LayerMask.NameToLayer("WeaponPreview");
        public static readonly int PlayerCollisionTest = LayerMask.NameToLayer("PlayerCollisionTest");
        public static readonly int DisablerCullingObject = LayerMask.NameToLayer("DisablerCullingObject");

        #endregion

        #region Precomputed LayerMasks

        public static readonly LayerMask PlayerMask = 1 << Player;
        public static readonly LayerMask DefaultMask = 1 << Default;
        public static readonly LayerMask HitColliderMask = 1 << HitCollider;
        public static readonly LayerMask LootLayerMask = 1 << Loot;
        public static readonly LayerMask InteractiveMask = 1 << Interactive;
        public static readonly LayerMask TriggersMask = 1 << Trigger;
        public static readonly LayerMask TransparentMask = 1 << TransparentFX;
        public static readonly LayerMask TerrainMask = 1 << Terrain;
        public static readonly LayerMask DisablerCullingObjectMask = 1 << DisablerCullingObject;

        #endregion

        #region Compound Masks

        public static readonly LayerMask HighPolyWithTerrainMask =
            (1 << Terrain) | (1 << HighPolyCollider);

        public static readonly LayerMask HighPolyWithTerrainNoGrassMask =
            HighPolyWithTerrainMask | (1 << Foliage);

        public static readonly LayerMask HighPolyWithTerrainMaskAI =
            HighPolyWithTerrainNoGrassMask | (1 << LowPolyCollider);

        public static readonly LayerMask TripwireCheckLayerMaskNoPlayer =
            TerrainMask | (1 << Door) | LootLayerMask | DefaultMask | HighPolyWithTerrainMask;

        public static readonly LayerMask TripwireCheckLayerMask =
            TripwireCheckLayerMaskNoPlayer | PlayerMask;

        public static readonly LayerMask AllColliders = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "DoorHighPolyCollider", "DoorLowPolyCollider");

        public static readonly LayerMask SuppressionMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Grass");

        public static readonly LayerMask VisionBlockers = LayerMask.GetMask(
            "HighPolyCollider", "DoorHighPolyCollider", "Terrain", "InvisibleCollider");

        public static readonly LayerMask LineOfSightMask = LayerMask.GetMask(
            "HighPolyCollider", "DoorHighPolyCollider", "Terrain");

        public static readonly LayerMask AimRayMask = LayerMask.GetMask(
            "HighPolyCollider", "LowPolyCollider", "Deadbody");

        public static readonly LayerMask EdgeCheckMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider");

        public static readonly LayerMask CoverRayMask = LayerMask.GetMask(
            "HighPolyCollider", "LowPolyCollider", "DoorLowPolyCollider", "Terrain");

        public static readonly LayerMask NavObstacleMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Deadbody");

        public static readonly LayerMask LootObstructionMask = LayerMask.GetMask(
            "HighPolyCollider", "LowPolyCollider", "Deadbody");

        public static readonly LayerMask LootRaycastMask = LayerMask.GetMask(
            "Loot", "Interactive", "Player");

        public static readonly LayerMask OcclusionRaycastMask = LayerMask.GetMask(
            "HighPolyCollider", "Terrain", "InvisibleCollider");

        public static readonly LayerMask JumpRayMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider");

        public static readonly LayerMask ObstacleRayMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Grass");

        public static readonly LayerMask DoorColliderMask = LayerMask.GetMask(
            "Door", "DoorHighPolyCollider", "DoorLowPolyCollider");

        public static readonly LayerMask PlayerStaticDoorMask = LayerMask.GetMask("Door");

        public static readonly LayerMask PlayerCollisionTestMask = LayerMask.GetMask(
            "LowPolyCollider", "Door", "Terrain", "Player");

        public static readonly LayerMask GrenadeAffectedMask = LayerMask.GetMask(
            "Player", "Interactive");

        public static readonly LayerMask GrenadeObstaclesColliderMask = LayerMask.GetMask(
            "HighPolyCollider", "Door", "Terrain");

        public static readonly LayerMask TerrainAndObstacles = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Door", "DoorHighPolyCollider", "DoorLowPolyCollider");

        public static readonly LayerMask JumpSafeMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider");

        public static readonly LayerMask ClimbObstructionMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Door", "InvisibleCollider");

        public static readonly LayerMask NavRaycastMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "InvisibleCollider", "Door");

        public static readonly LayerMask MovementBlockerMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "Door", "DoorHighPolyCollider", "DoorLowPolyCollider");

        public static readonly LayerMask NavPointScanMask = LayerMask.GetMask(
            "Terrain", "HighPolyCollider", "LowPolyCollider", "InvisibleCollider", "Door");

        #endregion

        #region Utilities

        public static bool IsWorldGeometry(int layer)
        {
            return IsValidLayer(layer) && (
                layer == Terrain
                || layer == HighPolyCollider
                || layer == LowPolyCollider
                || layer == Door
                || layer == DoorHighPolyCollider
                || layer == DoorLowPolyCollider
            );
        }

        public static bool IsObstacleLayer(int layer)
        {
            return IsValidLayer(layer) && (
                layer == Terrain
                || layer == HighPolyCollider
                || layer == LowPolyCollider
                || layer == Foliage
            );
        }

        public static bool IsPlayerLayer(int layer)
        {
            return IsValidLayer(layer) && layer == Player;
        }

        public static bool IsDoorLayer(int layer)
        {
            return IsValidLayer(layer) && (
                layer == Door
                || layer == DoorHighPolyCollider
                || layer == DoorLowPolyCollider
            );
        }

        public static bool IsLootLayer(int layer)
        {
            return IsValidLayer(layer) && layer == Loot;
        }

        public static bool IsInteractiveLayer(int layer)
        {
            return IsValidLayer(layer) && (layer == Interactive || layer == Trigger);
        }

        public static bool IsInvisibleCollider(int layer)
        {
            return IsValidLayer(layer) && layer == InvisibleCollider;
        }

        public static bool IsViewCollider(int layer)
        {
            return IsValidLayer(layer) && layer == ViewCollider;
        }

        public static bool IsNavBlocker(int layer)
        {
            return IsValidLayer(layer) && (
                layer == Terrain
                || layer == HighPolyCollider
                || layer == LowPolyCollider
                || layer == DeadBody
            );
        }

        private static bool IsValidLayer(int layer)
        {
            // Ensures layer is in the Unity range and not -1 (which NameToLayer returns if not found)
            return layer >= 0 && layer < 32;
        }

        #endregion
    }
}
